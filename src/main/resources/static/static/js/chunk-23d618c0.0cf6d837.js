(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23d618c0"],{"62e4":function(t,e,i){"use strict";var s=i("b775");function a(t){return Object(s["a"])({url:"/sysList/list",method:"post",params:t})}function l(t){return Object(s["a"])({url:"/sysList/create",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/sysList/update",method:"post",data:t})}function r(t){return Object(s["a"])({url:"/sysList/delete/"+t,method:"post"})}e["a"]={fetchList:a,create:l,update:n,remove:r}},f736:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[i("div",[i("i",{staticClass:"el-icon-search"}),i("span",[t._v("查询条件")]),i("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(e){return t.handleResetSearch()}}},[t._v("\n        重置\n      ")]),i("el-button",{staticStyle:{float:"right"},attrs:{disabled:!t.$checkMenuShow("list:list"),type:"primary",size:"small"},on:{click:function(e){return t.handleSearchList()}}},[t._v("\n        确认查询\n      ")])],1),i("div",{staticStyle:{"margin-top":"15px"}},[i("el-form",{ref:"queryForm",attrs:{inline:!0,model:t.queryParams,size:"small","label-width":"140px"}},[i("el-form-item",{attrs:{label:"类别名："}},[i("el-input",{staticClass:"input-width",attrs:{placeholder:"类别名"},model:{value:t.queryParams.listName,callback:function(e){t.$set(t.queryParams,"listName",e)},expression:"queryParams.listName"}})],1),i("el-form-item",{attrs:{label:"键:"}},[i("el-input",{staticClass:"input-width",attrs:{placeholder:"键"},model:{value:t.queryParams.listKey,callback:function(e){t.$set(t.queryParams,"listKey",e)},expression:"queryParams.listKey"}})],1),i("el-form-item",{attrs:{label:"值:"}},[i("el-input",{staticClass:"input-width",attrs:{placeholder:"值"},model:{value:t.queryParams.listValue,callback:function(e){t.$set(t.queryParams,"listValue",e)},expression:"queryParams.listValue"}})],1)],1)],1)]),i("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[i("i",{staticClass:"el-icon-tickets"}),i("span",[t._v("列选项列表")]),i("el-button",{staticClass:"btn-add",staticStyle:{"margin-left":"20px"},attrs:{disabled:!t.$checkMenuShow("list:add"),type:"primary"},on:{click:function(e){return t.handleAdd()}}},[t._v("\n      添加\n    ")])],1),i("div",{staticClass:"table-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"listTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:"",stripe:"","highlight-current-row":"","row-key":"id"}},[i("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),i("el-table-column",{attrs:{type:"index",width:"50"}}),i("el-table-column",{attrs:{prop:"listType",label:"类别",width:"150"}}),i("el-table-column",{attrs:{prop:"listName",label:"类型名",width:"150"}}),i("el-table-column",{attrs:{prop:"listKey",label:"键",width:"120"}}),i("el-table-column",{attrs:{prop:"listValue",label:"值",width:"160"}}),i("el-table-column",{attrs:{prop:"insertOn",label:"创建日期",width:"160"}}),i("el-table-column",{attrs:{prop:"insertByName",label:"创建人",width:"160"}}),i("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{disabled:!t.$checkMenuShow("list:add"),type:"primary",size:"small"},on:{click:function(i){return t.handleAddSame(e.$index,e.row)}}},[t._v("\n            添加同类别\n          ")]),i("el-button",{attrs:{disabled:!t.$checkMenuShow("list:update"),type:"success",size:"small"},on:{click:function(i){return t.handleUpdate(e.$index,e.row)}}},[t._v("\n            修改\n          ")]),i("el-button",{attrs:{disabled:!t.$checkMenuShow("list:delete"),type:"danger",size:"small"},on:{click:function(i){return t.handleDelete(e.$index,e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),i("div",{staticClass:"pagination-container"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","page-size":t.queryParams.pageObj.pageSize,"current-page":t.queryParams.pageObj.pageNum,total:t.listTotal},on:{"update:currentPage":function(e){return t.$set(t.queryParams.pageObj,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryParams.pageObj,"pageNum",e)},"current-change":t.handlePageCurrentChange}})],1),i("el-dialog",{attrs:{title:t.isEdit?"修改列选项":"添加列选项",visible:t.listEditDialogVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(e){t.listEditDialogVisible=e},open:t.handlerListEditDialogOpen}},[i("el-form",{ref:"listEditForm",attrs:{model:t.listEdit,rules:t.rules,"label-width":"150px",size:"small"}},[i("el-form-item",{attrs:{label:"类别：",prop:"listType"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:t.listEdit.listType,callback:function(e){t.$set(t.listEdit,"listType",e)},expression:"listEdit.listType"}})],1),i("el-form-item",{attrs:{label:"类别名：",prop:"listName"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:t.listEdit.listName,callback:function(e){t.$set(t.listEdit,"listName",e)},expression:"listEdit.listName"}})],1),i("el-form-item",{attrs:{label:"键：",prop:"listKey"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:t.listEdit.listKey,callback:function(e){t.$set(t.listEdit,"listKey",e)},expression:"listEdit.listKey"}})],1),i("el-form-item",{attrs:{label:"值：",prop:"listValue"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:t.listEdit.listValue,callback:function(e){t.$set(t.listEdit,"listValue",e)},expression:"listEdit.listValue"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.listEditDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleListEditDialogConfirm()}}},[t._v("确 定")])],1)],1)],1)},a=[],l=i("62e4"),n={listName:"",listKey:"",listValue:"",pageObj:{pageNum:1,pageSize:10}},r={id:"",listType:"",listName:"",listKey:"",listValue:""},o={components:{},data:function(){return{queryParams:Object.assign({},n),listEdit:Object.assign({},r),listLoading:!1,list:[],listTotal:null,listEditDialogVisible:!1,isEdit:!1,rules:{listType:{required:!0,message:"请输入类别",trigger:"blur"},listName:{required:!0,message:"请输入类别名",trigger:"blur"},listKey:{required:!0,message:"请输入选项键",trigger:"blur"},listValue:{required:!0,message:"请输入选项值",trigger:"blur"}}}},computed:{routerKey:function(){return this.$route.path},queryParamsTrans:function(){var t={},e=this.queryParams,i=e.listName,s=e.listKey,a=e.listValue,l=e.pageObj;return i&&(t.listName=i),s&&(t.listKey=s),a&&(t.listValue=a),t.pageNum=l.pageNum,t.pageSize=l.pageSize,t}},created:function(){this.getList()},methods:{handleSearchList:function(){this.getList()},handleResetSearch:function(){this.queryParams=Object.assign({},n)},handleUpdate:function(t,e){this.listEditDialogVisible=!0,this.isEdit=!0,this.listEdit=Object.assign({},e)},handleDelete:function(t,e){var i=this;this.$confirm("是否要删除此选项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l["a"].remove(e.id).then((function(t){i.$message({type:"success",message:"删除成功!"}),i.getList()}))}))},handleAdd:function(){this.listEditDialogVisible=!0,this.isEdit=!1,this.listEdit=Object.assign({},r)},handleAddSame:function(t,e){this.listEditDialogVisible=!0,this.isEdit=!1,console.log(e);var i=Object.assign({},r);i=Object.assign(i,{listType:e.listType,listName:e.listName}),this.listEdit=i},handlerListEditDialogOpen:function(){},handleListEditDialogConfirm:function(){var t=this;this.$refs.listEditForm.validate((function(e){if(!e)return!1;t.isEdit?l["a"].update(t.listEdit).then((function(e){t.$message({message:e.data,type:"success"}),t.listEditDialogVisible=!1,t.getList()})):l["a"].create(t.listEdit).then((function(e){t.$message({message:e.data,type:"success"}),t.listEditDialogVisible=!1,t.getList()}))}))},getList:function(){var t=this;this.listLoading=!0,l["a"].fetchList(this.queryParamsTrans).then((function(e){t.listLoading=!1;var i=e.data,s=i.list,a=i.total;t.list=s,t.listTotal=a})).catch((function(){t.listLoading=!1}))},handlePageCurrentChange:function(t){this.queryParams.pageNum=t,this.getList()}}},u=o,c=i("2877"),d=Object(c["a"])(u,s,a,!1,null,"39218de3",null);e["default"]=d.exports}}]);