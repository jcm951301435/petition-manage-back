(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-343a78da"],{"28b1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),a("span",[t._v("查询条件")]),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(e){return t.handleResetSearch()}}},[t._v("\n        重置\n      ")]),a("el-button",{staticStyle:{float:"right"},attrs:{disabled:!t.$checkMenuShow("company:list"),type:"primary",size:"small"},on:{click:function(e){return t.handleSearchList()}}},[t._v("\n        确认查询\n      ")])],1),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{ref:"queryForm",attrs:{inline:!0,model:t.queryParams,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"公司名："}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"公司名"},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),a("el-form-item",{attrs:{label:"联系人:"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"联系人"},model:{value:t.queryParams.contactName,callback:function(e){t.$set(t.queryParams,"contactName",e)},expression:"queryParams.contactName"}})],1)],1)],1)]),a("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[a("i",{staticClass:"el-icon-tickets"}),a("span",[t._v("公司列表")]),a("el-button",{staticClass:"btn-add",staticStyle:{"margin-left":"20px"},attrs:{disabled:!t.$checkMenuShow("company:add"),type:"primary"},on:{click:function(e){return t.handleAdd()}}},[t._v("\n      添加\n    ")])],1),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"companyTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:"",stripe:"","highlight-current-row":"","row-key":"id"}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"公司名",width:"150"}}),a("el-table-column",{attrs:{prop:"contactName",label:"联系人",width:"160"}}),a("el-table-column",{attrs:{prop:"contactTelephone",label:"联系方式",width:"160"}}),a("el-table-column",{attrs:{prop:"insertOn",label:"创建日期",width:"160"}}),a("el-table-column",{attrs:{prop:"insertByName",label:"创建人",width:"160"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:!t.$checkMenuShow("company:update"),type:"success",size:"small"},on:{click:function(a){return t.handleUpdate(e.$index,e.row)}}},[t._v("\n            修改\n          ")]),a("el-button",{attrs:{disabled:!t.$checkMenuShow("company:delete"),type:"danger",size:"small"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","page-size":t.queryParams.pageObj.pageSize,"current-page":t.queryParams.pageObj.pageNum,total:t.listTotal},on:{"update:currentPage":function(e){return t.$set(t.queryParams.pageObj,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryParams.pageObj,"pageNum",e)},"current-change":t.handlePageCurrentChange}})],1),a("el-dialog",{attrs:{title:t.isEdit?"修改公司":"添加公司",visible:t.companyEditDialogVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(e){t.companyEditDialogVisible=e},open:t.handlerCompanyEditDialogOpen}},[a("el-form",{ref:"companyEditForm",attrs:{model:t.companyEdit,rules:t.rules,"label-width":"150px",size:"small"}},[a("el-form-item",{attrs:{label:"公司名：",prop:"name"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:t.companyEdit.name,callback:function(e){t.$set(t.companyEdit,"name",e)},expression:"companyEdit.name"}})],1),a("el-form-item",{attrs:{label:"联系人：",prop:"contactName"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:t.companyEdit.contactName,callback:function(e){t.$set(t.companyEdit,"contactName",e)},expression:"companyEdit.contactName"}})],1),a("el-form-item",{attrs:{label:"联系方式：",prop:"contactTelephone"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{autocomplete:"off"},model:{value:t.companyEdit.contactTelephone,callback:function(e){t.$set(t.companyEdit,"contactTelephone",e)},expression:"companyEdit.contactTelephone"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.companyEditDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleCompanyEditDialogConfirm()}}},[t._v("确 定")])],1)],1)],1)},i=[],o=(a("7f7f"),a("fcac")),s={name:"",contactName:"",pageObj:{pageNum:1,pageSize:10}},l={id:"",name:"",contactName:"",contactTelephone:""},c={components:{},data:function(){return{queryParams:Object.assign({},s),companyEdit:Object.assign({},l),listLoading:!1,list:[],listTotal:null,companyEditDialogVisible:!1,isEdit:!1,rules:{name:{required:!0,message:"请输入公司名称",trigger:"blur"},contactName:{required:!0,message:"请输入联系人",trigger:"blur"},contactTelephone:{required:!0,message:"请输入联系方式",trigger:"blur"}}}},computed:{routerKey:function(){return this.$route.path},queryParamsTrans:function(){var t={},e=this.queryParams,a=e.name,n=e.contactName,i=e.contactTelephone,o=e.pageObj;return a&&(t.name=a),n&&(t.contactName=n),i&&(t.contactTelephone=i),t.pageNum=o.pageNum,t.pageSize=o.pageSize,t}},created:function(){this.getList()},methods:{handleSearchList:function(){this.getList()},handleResetSearch:function(){this.queryParams=Object.assign({},s)},handleUpdate:function(t,e){this.companyEditDialogVisible=!0,this.isEdit=!0,this.companyEdit=Object.assign({},e)},handleDelete:function(t,e){var a=this;this.$confirm("是否要删除此公司?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o["a"].remove(e.id).then((function(t){a.$message({type:"success",message:"删除成功!"}),a.getList()}))}))},handleAdd:function(){this.companyEditDialogVisible=!0,this.isEdit=!1,this.companyEdit=Object.assign({},l)},handlerCompanyEditDialogOpen:function(){},handleCompanyEditDialogConfirm:function(){var t=this;this.$refs.companyEditForm.validate((function(e){if(!e)return!1;t.isEdit?o["a"].update(t.companyEdit).then((function(e){t.$message({message:e.data,type:"success"}),t.companyEditDialogVisible=!1,t.getList()})):o["a"].create(t.companyEdit).then((function(e){t.$message({message:e.data,type:"success"}),t.companyEditDialogVisible=!1,t.getList()}))}))},getList:function(){var t=this;this.listLoading=!0,o["a"].fetchList(this.queryParamsTrans).then((function(e){t.listLoading=!1;var a=e.data,n=a.list,i=a.total;t.list=n,t.listTotal=i})).catch((function(){t.listLoading=!1}))},handlePageCurrentChange:function(t){this.queryParams.pageNum=t,this.getList()}}},r=c,u=a("2877"),p=Object(u["a"])(r,n,i,!1,null,"8268efd8",null);e["default"]=p.exports},fcac:function(t,e,a){"use strict";var n=a("b775");function i(t){return Object(n["a"])({url:"/petitionCompany/list",method:"post",params:t})}function o(t){return Object(n["a"])({url:"/petitionCompany/create",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/petitionCompany/update",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/petitionCompany/delete/"+t,method:"post"})}e["a"]={fetchList:i,create:o,update:s,remove:l}}}]);